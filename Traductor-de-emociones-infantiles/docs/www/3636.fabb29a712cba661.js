"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3636],{3636:(x,m,u)=>{u.r(m),u.d(m,{DibujarPageModule:()=>_});var h=u(2200),d=u(4341),l=u(9893),b=u(8132),e=u(3664),o=u(2615);const p=["canvas"];function f(r,P){if(1&r&&(e.j41(0,"div",25)(1,"h4"),e.EFF(2),e.k0s(),e.j41(3,"p"),e.EFF(4),e.k0s(),e.j41(5,"small"),e.EFF(6),e.k0s()()),2&r){const n=e.XpG();e.xc7("background",n.color),e.R7$(2),e.JRh(n.emocion),e.R7$(2),e.JRh(n.mensaje),e.R7$(2),e.JRh(n.recomendacion)}}const j=[{path:"",component:(()=>{class r{constructor(){this.drawing=!1,this.selectedColor="#000000",this.emocion="",this.mensaje="",this.color="",this.recomendacion=""}ngOnInit(){const n=this.canvasRef.nativeElement,a=n.getBoundingClientRect();n.width=a.width,n.height=a.height,n.width=500,n.height=350,n.style.width=`${n.width}px`,n.style.height=`${n.height}px`,this.ctx=n.getContext("2d"),this.ctx.lineWidth=2,this.ctx.lineCap="round",this.ctx.strokeStyle=this.selectedColor}changeColor(){this.ctx.strokeStyle=this.selectedColor}startDrawing(n){n.preventDefault(),this.drawing=!0,this.ctx.beginPath();const{x:a,y:t}=this.getCoords(n);this.ctx.moveTo(a,t)}draw(n){if(n.preventDefault(),!this.drawing)return;const{x:a,y:t}=this.getCoords(n);this.ctx.lineTo(a,t),this.ctx.stroke()}stopDrawing(){this.drawing=!1,this.ctx.closePath()}clearCanvas(){const n=this.canvasRef.nativeElement;this.ctx.clearRect(0,0,n.width,n.height),this.emocion="",this.mensaje="",this.color="",this.recomendacion=""}saveDrawing(){const a=this.canvasRef.nativeElement.toDataURL("image/png");console.log("Imagen base64:",a);const t=["Felicidad","Tristeza","Depresi\xf3n","Enojo","Alegr\xeda"],i=Math.floor(Math.random()*t.length);this.emocion=t[i];const s={Felicidad:["Puedes leer un cuento divertido.","Comparte tu dibujo con tu familia.","Haz una actividad que disfrutes mucho."],Alegr\u00eda:["Juega un rato con tus amigos.","Escribe lo que te hace feliz.","Escucha tu canci\xf3n favorita."],Tristeza:["Habla con alguien de confianza.","Escucha m\xfasica relajante.","Sal a caminar un poco al aire libre."],Depresi\u00f3n:["Habla con un adulto de confianza.","Haz una actividad tranquila como dibujar o leer.","Busca ayuda profesional, \xa1no est\xe1s solo!"],Enojo:["Respira profundo y cuenta hasta 10.","Dibuja lo que sientes.","Haz ejercicio o juega para liberar energ\xeda."]},c={Felicidad:{mensaje:"\xa1Qu\xe9 alegr\xeda ver tu dibujo! \u{1f60a} Sigue as\xed.",color:"#FFD580"},Alegr\u00eda:{mensaje:"\xa1Qu\xe9 alegr\xeda ver tu dibujo! \u{1f60a} Sigue as\xed.",color:"#FFD580"},Tristeza:{mensaje:"Veo que est\xe1s un poco triste. Puedes hablar con alguien de confianza.",color:"#A0D2DB"},Depresi\u00f3n:{mensaje:"Es importante buscar ayuda profesional. \xa1No est\xe1s solo!",color:"#7B8DAB"},Enojo:{mensaje:"Respira profundo y toma un momento para calmarte.",color:"#F6A5A5"}};if(c[this.emocion]){this.mensaje=c[this.emocion].mensaje,this.color=c[this.emocion].color;const g=s[this.emocion];this.recomendacion=g[Math.floor(Math.random()*g.length)]}else this.mensaje="No pude identificar la emoci\xf3n, int\xe9ntalo de nuevo.",this.color="#E0E0E0",this.recomendacion="Intenta dibujar de nuevo para obtener una recomendaci\xf3n."}getCoords(n){const a=this.canvasRef.nativeElement,t=a.getBoundingClientRect();let i,s;return n instanceof MouseEvent?(i=n.clientX,s=n.clientY):(i=n.touches[0].clientX,s=n.touches[0].clientY),{x:a.width/t.width*(i-t.left),y:a.height/t.height*(s-t.top)}}static#e=this.\u0275fac=function(a){return new(a||r)};static#n=this.\u0275cmp=e.VBU({type:r,selectors:[["app-dibujar"]],viewQuery:function(a,t){if(1&a&&e.GBs(p,7),2&a){let i;e.mGM(i=e.lsd())&&(t.canvasRef=i.first)}},standalone:!1,decls:38,vars:4,consts:[["canvas",""],[3,"translucent"],[1,"ion-padding","page-dibujar",3,"fullscreen"],["href","inicio",1,"btn-volver"],["name","home-outline"],[1,"main-content-wrapper"],[1,"center-container","container"],[1,"mb-3"],[1,"color-selector"],["for","color"],["type","color","id","color",3,"ngModelChange","change","ngModel"],[3,"touchstart","touchmove","touchend","mousedown","mousemove","mouseup","mouseleave"],[1,"button-container"],["expand","block","color","danger",3,"click"],["expand","block","color","success",3,"click"],["class","mt-4 pastel-resultado",3,"background",4,"ngIf"],["slot","bottom",1,"custom-tab-bar"],["href","escribir",1,"tab-escribir"],["name","create-outline"],["href","dibujar",1,"tab-dibujar"],["name","brush-outline"],["href","camara",1,"tab-camara"],["name","camera-outline"],["href","imagen",1,"tab-imagen"],["name","image-outline"],[1,"mt-4","pastel-resultado"]],template:function(a,t){if(1&a){const i=e.RV6();e.nrm(0,"ion-header",1),e.j41(1,"ion-content",2)(2,"a",3),e.nrm(3,"ion-icon",4),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"h3",7),e.EFF(7,"Dibuja para predecir la emoci\xf3n"),e.k0s(),e.j41(8,"div",8)(9,"label",9),e.EFF(10,"Color de la l\xednea:"),e.k0s(),e.j41(11,"input",10),e.mxI("ngModelChange",function(c){return o.eBV(i),e.DH7(t.selectedColor,c)||(t.selectedColor=c),o.Njj(c)}),e.bIt("change",function(){return o.eBV(i),o.Njj(t.changeColor())}),e.k0s()(),e.j41(12,"canvas",11,0),e.bIt("touchstart",function(c){return o.eBV(i),o.Njj(t.startDrawing(c))})("touchmove",function(c){return o.eBV(i),o.Njj(t.draw(c))})("touchend",function(){return o.eBV(i),o.Njj(t.stopDrawing())})("mousedown",function(c){return o.eBV(i),o.Njj(t.startDrawing(c))})("mousemove",function(c){return o.eBV(i),o.Njj(t.draw(c))})("mouseup",function(){return o.eBV(i),o.Njj(t.stopDrawing())})("mouseleave",function(){return o.eBV(i),o.Njj(t.stopDrawing())}),e.k0s(),e.j41(14,"div",12)(15,"ion-button",13),e.bIt("click",function(){return o.eBV(i),o.Njj(t.clearCanvas())}),e.EFF(16,"Limpiar"),e.k0s(),e.j41(17,"ion-button",14),e.bIt("click",function(){return o.eBV(i),o.Njj(t.saveDrawing())}),e.EFF(18,"Predecir Emoci\xf3n"),e.k0s()(),e.DNE(19,f,7,5,"div",15),e.k0s()(),e.j41(20,"ion-tabs")(21,"ion-tab-bar",16)(22,"ion-tab-button",17),e.nrm(23,"ion-icon",18),e.j41(24,"ion-label"),e.EFF(25,"Escribir"),e.k0s()(),e.j41(26,"ion-tab-button",19),e.nrm(27,"ion-icon",20),e.j41(28,"ion-label"),e.EFF(29,"Dibujar"),e.k0s()(),e.j41(30,"ion-tab-button",21),e.nrm(31,"ion-icon",22),e.j41(32,"ion-label"),e.EFF(33,"C\xe1mara"),e.k0s()(),e.j41(34,"ion-tab-button",23),e.nrm(35,"ion-icon",24),e.j41(36,"ion-label"),e.EFF(37,"Subir Imagen"),e.k0s()()()()()}2&a&&(e.Y8G("translucent",!0),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(10),e.R50("ngModel",t.selectedColor),e.R7$(8),e.Y8G("ngIf",t.emocion))},dependencies:[h.bT,d.me,d.BC,d.vS,l.Jm,l.W9,l.eU,l.iq,l.he,l.Jq,l.qW,l.p4],styles:["ion-content[_ngcontent-%COMP%]{--background: #1da0a0;padding:0;display:flex;flex-direction:column;position:relative}.page-dibujar[_ngcontent-%COMP%]{font-family:Comic Sans MS,cursive,sans-serif;height:100%}.main-content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;padding:20px;box-sizing:border-box;position:relative;z-index:1}.center-container[_ngcontent-%COMP%]{width:100%;text-align:center;background-color:#f79c34;padding:20px;border-radius:25px;box-shadow:0 8px 16px #0003}@media (max-width: 1024px){canvas[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:10px;background-color:#fff;width:100%;height:auto;touch-action:none}}@media (min-width: 1025px){.main-content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box;position:relative;z-index:1}.center-container[_ngcontent-%COMP%]{width:1000px;text-align:center;background-color:#f79c34;border-radius:25px;box-shadow:0 8px 16px #0003}canvas[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:10px;background-color:#fff;width:500px;height:100%;touch-action:none}}.color-selector[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;align-items:center;justify-content:center}.color-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px;font-weight:700;color:#fff}.button-container[_ngcontent-%COMP%]{margin-top:15px}.btn-volver[_ngcontent-%COMP%]{position:fixed;top:16px;left:16px;z-index:1000;background-color:#fffc;padding:10px;border-radius:50%;box-shadow:0 2px 8px #0003;text-decoration:none;display:flex;align-items:center;justify-content:center}.btn-volver[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#333}.custom-tab-bar[_ngcontent-%COMP%]{--background: transparent}.custom-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{z-index:0;text-align:center;font-weight:700;color:#fff;--color: white}.custom-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:700;color:#fff}.custom-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}ion-tabs[_ngcontent-%COMP%]{margin-top:-20%;margin-bottom:10%;position:relative;height:80%}.tab-escribir[_ngcontent-%COMP%]{background-color:#f35464}.tab-dibujar[_ngcontent-%COMP%]{background-color:#e6e643}.tab-camara[_ngcontent-%COMP%]{background-color:#32eb5a}.tab-imagen[_ngcontent-%COMP%]{background-color:#f79c34}"]})}return r})()}];let v=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#n=this.\u0275mod=e.$C({type:r});static#t=this.\u0275inj=o.G2t({imports:[b.iI.forChild(j),b.iI]})}return r})(),_=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#n=this.\u0275mod=e.$C({type:r});static#t=this.\u0275inj=o.G2t({imports:[h.MD,d.YN,l.bv,v]})}return r})()}}]);