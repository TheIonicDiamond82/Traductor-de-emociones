"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8020],{8020:(P,l,i)=>{i.r(l),i.d(l,{CamaraPageModule:()=>C});var u=i(2200),g=i(4341),r=i(9893),d=i(8132),c=i(467),n=i(3664);let p=(()=>{class e{constructor(){}ngOnInit(){var t=this;return(0,c.A)(function*(){yield t.init()})()}init(){var t=this;return(0,c.A)(function*(){const o="https://teachablemachine.withgoogle.com/models/BCGLK1PjX/",a=o+"model.json",s=o+"metadata.json";t.model=yield tmImage.load(a,s),t.maxPredictions=t.model.getTotalClasses(),t.webcam=new tmImage.Webcam(200,200,!0),yield t.webcam.setup(),yield t.webcam.play(),window.requestAnimationFrame(()=>t.loop()),document.getElementById("webcam-container")?.appendChild(t.webcam.canvas),t.labelContainer=document.getElementById("label-container");for(let b=0;b<t.maxPredictions;b++){const x=document.createElement("div");t.labelContainer?.appendChild(x)}})()}loop(){var t=this;return(0,c.A)(function*(){t.webcam.update(),yield t.predict(),window.requestAnimationFrame(()=>t.loop())})()}predict(){var t=this;return(0,c.A)(function*(){const o=yield t.model.predict(t.webcam.canvas);for(let a=0;a<t.maxPredictions;a++){const s=o[a].className+": "+100*o[a].probability.toFixed(2)+"%";t.labelContainer?.childNodes[a]&&(t.labelContainer.childNodes[a].innerText=s)}})()}static#n=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=n.VBU({type:e,selectors:[["app-camara"]],standalone:!1,decls:30,vars:2,consts:[[3,"translucent"],[1,"ion-padding","page-camara",3,"fullscreen"],["href","inicio",1,"btn-volver"],["name","home-outline"],[1,"main-content-wrapper"],[1,"center-container","container"],[1,"mb-3"],["expand","block","color","primary",3,"click"],["id","webcam-container",1,"my-3"],["id","label-container",1,"resultados"],["slot","bottom",1,"custom-tab-bar"],["href","escribir",1,"tab-escribir"],["name","create-outline"],["href","dibujar",1,"tab-dibujar"],["name","brush-outline"],["href","camara",1,"tab-camara"],["name","camera-outline"],["href","imagen",1,"tab-imagen"],["name","image-outline"]],template:function(o,a){1&o&&(n.nrm(0,"ion-header",0),n.j41(1,"ion-content",1)(2,"a",2),n.nrm(3,"ion-icon",3),n.k0s(),n.j41(4,"div",4)(5,"div",5)(6,"h3",6),n.EFF(7,"Predicci\xf3n de emociones en tiempo real"),n.k0s(),n.j41(8,"ion-button",7),n.bIt("click",function(){return a.init()}),n.EFF(9," Iniciar c\xe1mara "),n.k0s(),n.nrm(10,"div",8)(11,"div",9),n.k0s()(),n.j41(12,"ion-tabs")(13,"ion-tab-bar",10)(14,"ion-tab-button",11),n.nrm(15,"ion-icon",12),n.j41(16,"ion-label"),n.EFF(17,"Escribir"),n.k0s()(),n.j41(18,"ion-tab-button",13),n.nrm(19,"ion-icon",14),n.j41(20,"ion-label"),n.EFF(21,"Dibujar"),n.k0s()(),n.j41(22,"ion-tab-button",15),n.nrm(23,"ion-icon",16),n.j41(24,"ion-label"),n.EFF(25,"C\xe1mara"),n.k0s()(),n.j41(26,"ion-tab-button",17),n.nrm(27,"ion-icon",18),n.j41(28,"ion-label"),n.EFF(29,"Subir Imagen"),n.k0s()()()()()),2&o&&(n.Y8G("translucent",!0),n.R7$(),n.Y8G("fullscreen",!0))},dependencies:[r.Jm,r.W9,r.eU,r.iq,r.he,r.Jq,r.qW,r.p4],styles:["ion-content[_ngcontent-%COMP%]{--background: #1da0a0;padding:0;display:flex;flex-direction:column;position:relative}.page-camara[_ngcontent-%COMP%]{font-family:Comic Sans MS,cursive,sans-serif;background-size:cover;background-position:center;height:100%}.main-content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;padding:20px;box-sizing:border-box;position:relative;z-index:1}.center-container[_ngcontent-%COMP%]{width:100%;max-width:500px;text-align:center;background-color:#32eb5a;padding:30px;border-radius:25px;box-shadow:0 8px 16px #0003}#webcam-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:#fff8e1;padding:10px;border-radius:15px;overflow:hidden}.resultados[_ngcontent-%COMP%]{background-color:#ffd9d9;color:#32eb5a;padding:15px;border-radius:15px;font-weight:700}.btn-volver[_ngcontent-%COMP%]{position:fixed;top:16px;left:16px;z-index:1000;background-color:#fffc;padding:10px;border-radius:50%;box-shadow:0 2px 8px #0003;text-decoration:none;display:flex;align-items:center;justify-content:center}.btn-volver[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#333}.custom-tab-bar[_ngcontent-%COMP%]{--background: transparent}.custom-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{z-index:0;text-align:center;font-weight:700;color:#fff;--color: white}.custom-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:700;color:#fff}.custom-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}ion-tabs[_ngcontent-%COMP%]{margin-top:-20%;margin-bottom:10%;position:relative;height:80%}.tab-escribir[_ngcontent-%COMP%]{background-color:#f35464}.tab-dibujar[_ngcontent-%COMP%]{background-color:#e6e643;color:#333}.tab-camara[_ngcontent-%COMP%]{background-color:#32eb5a}.tab-imagen[_ngcontent-%COMP%]{background-color:#f79c34}.container[_ngcontent-%COMP%]{max-width:500px;margin:auto;z-index:2}"]})}return e})();var m=i(2615);const f=[{path:"",component:p}];let h=(()=>{class e{static#n=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.$C({type:e});static#e=this.\u0275inj=m.G2t({imports:[d.iI.forChild(f),d.iI]})}return e})(),C=(()=>{class e{static#n=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.$C({type:e});static#e=this.\u0275inj=m.G2t({imports:[u.MD,g.YN,r.bv,h]})}return e})()}}]);