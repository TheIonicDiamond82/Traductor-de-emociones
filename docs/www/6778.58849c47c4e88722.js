"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6778],{6778:(v,d,r)=>{r.r(d),r.d(d,{ImagenPageModule:()=>C});var g=r(2200),b=r(4341),c=r(9893),m=r(8132),l=r(467),n=r(3664);function f(t,M){if(1&t&&(n.j41(0,"div",20),n.nrm(1,"img",21),n.k0s()),2&t){const e=n.XpG();n.R7$(),n.Y8G("src",e.imageSrc,n.B4B)}}function p(t,M){if(1&t&&(n.j41(0,"div",22)(1,"h5"),n.EFF(2,"Resultado:"),n.k0s(),n.j41(3,"b")(4,"h5"),n.EFF(5),n.k0s()()()),2&t){const e=n.XpG();n.R7$(5),n.JRh(e.emocionPredicha)}}let h=(()=>{class t{constructor(){this.imageSrc=null,this.emocionPredicha=""}ngOnInit(){var e=this;return(0,l.A)(function*(){yield e.cargarModelo()})()}cargarModelo(){var e=this;return(0,l.A)(function*(){const o="https://teachablemachine.withgoogle.com/models/-4jlw7GA6/",i=o+"model.json",a=o+"metadata.json";e.model=yield tmImage.load(i,a),e.maxPredictions=e.model.getTotalClasses()})()}onFileSelected(e){const o=e.target.files[0];if(o){const i=new FileReader;i.onload=a=>{this.imageSrc=a.target?.result||null},i.readAsDataURL(o)}}predecirEmocion(){var e=this;return(0,l.A)(function*(){if(!e.imageSrc||!e.model)return;const o=document.getElementById("imagen-prediccion");if(!o)return;const i=yield e.model.predict(o);let a=i[0];for(let s=1;s<i.length;s++)i[s].probability>a.probability&&(a=i[s]);e.emocionPredicha=`${a.className} (${(100*a.probability).toFixed(1)}%)`})()}static#n=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=n.VBU({type:t,selectors:[["app-imagen"]],standalone:!1,decls:31,vars:5,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],["href","inicio",1,"btn-volver"],["name","home-outline"],[1,"main-content-wrapper"],[1,"center-container","container"],[1,"my-3"],["type","file","accept","image/*",1,"form-control","mb-3",3,"change"],["class","mb-3",4,"ngIf"],["expand","block","color","success",3,"click","disabled"],["class","mt-4",4,"ngIf"],["slot","bottom",1,"custom-tab-bar"],["href","escribir",1,"tab-escribir"],["name","create-outline"],["href","dibujar",1,"tab-dibujar"],["name","brush-outline"],["href","camara",1,"tab-camara"],["name","camera-outline"],["href","imagen",1,"tab-imagen"],["name","image-outline"],[1,"mb-3"],["id","imagen-prediccion","alt","Vista previa",1,"img-fluid","rounded","shadow",3,"src"],[1,"mt-4"]],template:function(o,i){1&o&&(n.nrm(0,"ion-header",0),n.j41(1,"ion-content",1)(2,"a",2),n.nrm(3,"ion-icon",3),n.k0s(),n.j41(4,"div",4)(5,"div",5)(6,"h3",6),n.EFF(7,"Inserta una imagen para predecir la emoci\xf3n"),n.k0s(),n.j41(8,"input",7),n.bIt("change",function(s){return i.onFileSelected(s)}),n.k0s(),n.DNE(9,f,2,1,"div",8),n.j41(10,"ion-button",9),n.bIt("click",function(){return i.predecirEmocion()}),n.EFF(11," Predecir emoci\xf3n "),n.k0s(),n.DNE(12,p,6,1,"div",10),n.k0s()(),n.j41(13,"ion-tabs")(14,"ion-tab-bar",11)(15,"ion-tab-button",12),n.nrm(16,"ion-icon",13),n.j41(17,"ion-label"),n.EFF(18,"Escribir"),n.k0s()(),n.j41(19,"ion-tab-button",14),n.nrm(20,"ion-icon",15),n.j41(21,"ion-label"),n.EFF(22,"Dibujar"),n.k0s()(),n.j41(23,"ion-tab-button",16),n.nrm(24,"ion-icon",17),n.j41(25,"ion-label"),n.EFF(26,"C\xe1mara"),n.k0s()(),n.j41(27,"ion-tab-button",18),n.nrm(28,"ion-icon",19),n.j41(29,"ion-label"),n.EFF(30,"Subir Imagen"),n.k0s()()()()()),2&o&&(n.Y8G("translucent",!0),n.R7$(),n.Y8G("fullscreen",!0),n.R7$(8),n.Y8G("ngIf",i.imageSrc),n.R7$(),n.Y8G("disabled",!i.imageSrc),n.R7$(2),n.Y8G("ngIf",i.emocionPredicha))},dependencies:[g.bT,c.Jm,c.W9,c.eU,c.iq,c.he,c.Jq,c.qW,c.p4],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #1da0a0;padding:0;display:flex;flex-direction:column;position:relative}.page-imagen[_ngcontent-%COMP%]{font-family:Comic Sans MS,cursive,sans-serif;background-size:cover;background-position:center;height:100%}.main-content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;padding:20px;box-sizing:border-box;position:relative;z-index:1}.center-container[_ngcontent-%COMP%]{width:100%;max-width:500px;text-align:center;background-color:#f79c34;padding:30px;border-radius:25px;box-shadow:0 8px 16px #0003}textarea[_ngcontent-%COMP%]{border-radius:15px;font-size:1.2rem;background-color:#fff8e1;width:100%;color:#000;min-height:120px;padding:10px;border:none;resize:none}.pastel-btn[_ngcontent-%COMP%]{background-color:#f7c774;color:#fff;font-weight:700;border:none;border-radius:15px;padding:10px 25px;font-size:1.2rem;width:100%;transition:background-color .3s ease}.pastel-btn[_ngcontent-%COMP%]:hover{background-color:#f9b84c}.pastel-resultado[_ngcontent-%COMP%]{border-radius:15px;font-size:1.1rem;padding:15px;font-weight:700;background-color:#ffd9d9;color:#f79c34}.btn-volver[_ngcontent-%COMP%]{position:fixed;top:16px;left:16px;z-index:1000;background-color:#fffc;padding:10px;border-radius:50%;box-shadow:0 2px 8px #0003;text-decoration:none;display:flex;align-items:center;justify-content:center}.btn-volver[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#333}.custom-tab-bar[_ngcontent-%COMP%]{--background: transparent}.custom-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{z-index:0;text-align:center;font-weight:700;color:#fff;--color: white}.custom-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:700;color:#fff}.custom-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}ion-tabs[_ngcontent-%COMP%]{margin-top:-20%;margin-bottom:10%;position:relative;height:80%}.tab-escribir[_ngcontent-%COMP%]{background-color:#f35464}.tab-dibujar[_ngcontent-%COMP%]{background-color:#e6e643;color:#333}.tab-camara[_ngcontent-%COMP%]{background-color:#32eb5a}.tab-imagen[_ngcontent-%COMP%]{background-color:#f79c34}img[_ngcontent-%COMP%]{max-width:100%;height:auto;border:2px solid #ddd;border-radius:10px}.container[_ngcontent-%COMP%]{max-width:500px;margin:auto;z-index:2}']})}return t})();var u=r(2615);const x=[{path:"",component:h}];let P=(()=>{class t{static#n=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=n.$C({type:t});static#e=this.\u0275inj=u.G2t({imports:[m.iI.forChild(x),m.iI]})}return t})(),C=(()=>{class t{static#n=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=n.$C({type:t});static#e=this.\u0275inj=u.G2t({imports:[g.MD,b.YN,c.bv,P]})}return t})()}}]);